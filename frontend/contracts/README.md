# zkMed Smart Contracts Export

This directory contains exported ABIs and TypeScript interfaces for zkMed smart contracts, ready for frontend integration.

## Files

- `RegistrationContract.json` - Main contract ABI  
- `RegistrationContract.ts` - TypeScript interface with usage examples
- `HealthSystemWebProofProver.json` - Italian health WebProof prover ABI
- `HealthSystemWebProofProver.ts` - TypeScript interface for WebProof prover
- `HealthSystemWebProofVerifier.json` - Italian health WebProof verifier ABI
- `HealthSystemWebProofVerifier.ts` - TypeScript interface for WebProof verifier
- `PatientModule.json` - Patient module ABI
- `PatientModule.ts` - TypeScript interface for patient operations
- `EmailDomainProver.json` - Email domain prover ABI
- `EmailDomainProver.ts` - TypeScript interface for email verification
- `deployment.json` - Comprehensive deployment info with all addresses
- `addresses.ts` - Simple contract addresses export (recommended)
- `config.ts` - Configuration and utility functions
- `index.ts` - Main export file

## Quick Start

### Import Contract Addresses (Recommended)

```typescript
import { CONTRACT_ADDRESSES, REGISTRATION_CONTRACT } from '@/contracts/addresses';

// Use specific address
const regAddress = REGISTRATION_CONTRACT;

// Or use the full object
const allAddresses = CONTRACT_ADDRESSES;
```

### Import Full Contract with ABI

```typescript
import { getContract } from "thirdweb";
import { RegistrationContractABI } from '@/contracts/RegistrationContract';
import { CONTRACT_ADDRESSES } from '@/contracts/addresses';
import { client } from '@/lib/client';
import { localChain } from '@/lib/contracts';

// Main registration contract
const registrationContract = getContract({
  client,
  chain: localChain,
  address: CONTRACT_ADDRESSES.REGISTRATION_CONTRACT,
  abi: RegistrationContractABI,
});
```

## Contract Addresses (Auto-Generated from Backend)

- **registrationContract**: `0x5FC8d32690cc91D4c39d9d3abcBD16989F875707`
- **patientModule**: `0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0`
- **emailDomainProver**: `0x5FbDB2315678afecb367f032d93F642f64180aa3`
- **registrationStorage**: `0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512`
- **organizationModule**: `0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9`
- **adminModule**: `0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9`
- **healthSystemWebProofProver**: `0x8f86403A4DE0BB5791fa46B8e795C547942fE4Cf`
- **healthSystemWebProofVerifier**: `0x9d4454B023096f34B160D6B654540c56A1F81688`

## Available Flows

### Patients use WebProofs from Italian health system
- **Contracts**: healthSystemWebProofProver, healthSystemWebProofVerifier, registrationContract
- **Endpoint**: `registerPatientWithWebProof`

### Organizations use domain MailProofs
- **Contracts**: emailDomainProver, registrationContract
- **Endpoint**: `registerOrganization`

## Integration

This directory is automatically generated by the backend export script and should be imported directly in your Next.js frontend.

**Deployment Info:**
- Deployed at: 2025-05-31T14:20:02.000Z
- Exported at: 2025-06-01T01:15:21.000Z
- Chain ID: 31337
- Deployer: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
